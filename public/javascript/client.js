$(document).ready(function(){function e(){var e=$(".incomplete");$("#taskCounter").html(e.length+" tasks remaining")}$(".sortable").on("click",".checkbox",function(){$(this).parent().submit()}),e(),$(".sortable").sortable(),$(".sortable").disableSelection(),$("#newTaskForm").submit(function(a){a.preventDefault(),$.ajax("/tasks",{method:"POST",data:$("#newTaskForm").serialize(),success:function(a){console.log(a);var t=$("<li>").addClass("taskList incomplete ui-sortable-handle"),s=$("<form/>").addClass("submitForm id"),n=$("<input/>",{name:"task",type:"checkbox","class":"checkbox"}),l=$("<label/>"),o=$("<i/>"),i=($("<div/>").addClass("small-1 columns"),$("<div/>").addClass("row")),d=$("<div/>").addClass("small-5 columns titleToShowTask"),c=$("<a/>"),p=$("<span/>").addClass("title"),r=$("<span/>").addClass("notes"),u=$("<a>"),m=$("<i>",{"class":"fa fa-2x fa-pencil-square"}),f=$("<button>",{"class":"edit",text:"Edit"});f.append(m),u.append(f);var b=$("<form>",{"class":"deleteForm"}),h=$("<i>",{"class":"fa fa-2x fa-bomb"}),k=$("<button>",{"class":"delete",text:"Delete",type:"submit"});k.append(h),b.append(k),$(".sortable").append(t),s.append(n),s.append(l),l.append(o),t.append(i),d.append(c),c.append(p.text(a.title)),t.append(r.text(a.notes)),t.append(u),t.append(b),console.log(t),e()},failure:function(){}}),$("#newTaskForm")[0].reset()}),$(".sortable").on("submit",".deleteForm",function(a){var t=$(this).attr("action"),s=$(this);a.preventDefault(),$.ajax(t,{method:"POST",success:function(){s.closest("li").remove(),e()},failure:function(){}})}),$(".titleToShowTask").on("click",function(e){e.preventDefault(),$(this).parent(".row").siblings(".hiddenNote").slideToggle()})});